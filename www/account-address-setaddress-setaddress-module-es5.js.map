{"version":3,"sources":["src/app/account/address/setaddress/setaddress.page.html","src/app/account/address/setaddress/setaddress-routing.module.ts","src/app/account/address/setaddress/setaddress.module.ts","src/app/account/address/setaddress/setaddress.page.scss","src/app/account/address/setaddress/setaddress.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"font-size: 17px;font-family: 'SF Pro Display';margin-left: -8px !important;\\\">Detalles de la entrega</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <div class=\\\"searchBar\\\" *ngIf=\\\"autocomplete\\\">\\n    <ion-searchbar style=\\\"font-size: 12px;font-family: 'SF Pro Display';--margin-bottom:0;--margin-top:0;\\\" \\n                  (ionInput)=\\\"search($event)\\\" \\n                  placeholder=\\\"Ingrese una nueva direcciÃ³n\\\" \\n                  mode=\\\"ios\\\" \\n                  color=\\\"light\\\" \\n                  (ionClear)=\\\"clearSearch()\\\" \\n                  [(ngModel)]=\\\"autocomplete.input\\\">\\n    </ion-searchbar>\\n  </div>\\n\\n  <!-- Search AutoComplete -->\\n  <ion-list *ngIf=\\\"autocompleteItems && hasSearch\\\">\\n    <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"SelectSearchResult(item)\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <ion-icon name=\\\"pin\\\" style=\\\"font-size: 22px;\\\"></ion-icon>\\n      </ion-avatar>\\n      <ion-label>\\n        <h4>{{item.structured_formatting.main_text}}</h4>\\n        <p style=\\\"font-size: 12px;font-family: 'SF Pro Display';\\\" *ngIf=\\\"item.structured_formatting.secondary_text\\\">\\n          {{item.structured_formatting.secondary_text | slice:0:45}} \\n          <i *ngIf=\\\"item.structured_formatting.secondary_text.length > 45\\\">...</i>\\n        </p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <!-- Search AutoComplete -->\\n  \\n  <!-- LocationNow -->\\n  <ion-item *ngIf=\\\"!LocationNow\\\">\\n    <ion-avatar slot=\\\"start\\\">\\n      <ion-icon name=\\\"navigate\\\" style=\\\"font-size: 22px;\\\"></ion-icon>\\n    </ion-avatar>\\n    <ion-label>\\n      <h4>Tu UbicaciÃ³n</h4>\\n      <p>\\n        <ion-skeleton-text animated style=\\\"width: 100%;height: 15px;\\\"></ion-skeleton-text>\\n      </p>\\n    </ion-label>\\n  </ion-item>\\n\\n  <ion-item *ngIf=\\\"LocationNow && !hasSearch\\\" (click)=\\\"saveAddress(MyLocation[0],'LocationNow')\\\">\\n    <ion-avatar slot=\\\"start\\\">\\n      <ion-icon name=\\\"navigate\\\" style=\\\"font-size: 22px;\\\"></ion-icon>\\n    </ion-avatar>\\n    <ion-label>\\n      <h4>Tu UbicaciÃ³n</h4>\\n      \\n      <p style=\\\"font-size: 12px;font-family: 'SF Pro Display';\\\">\\n        {{LocationNow | slice:0:45}} <i *ngIf=\\\"LocationNow.length > 45\\\">...</i>\\n      </p>\\n    </ion-label>\\n  </ion-item>\\n  <!-- LocationNow -->\\n\\n  <!-- Save Address -->\\n  <ion-list *ngIf=\\\"!hasSearch\\\">\\n    <ion-item-sliding *ngFor=\\\"let add of address\\\">\\n      <ion-item (click)=\\\"saveAddress(add,0)\\\">\\n        <ion-avatar slot=\\\"start\\\">\\n          <ion-icon name=\\\"time\\\" style=\\\"font-size: 22px;\\\"></ion-icon>\\n        </ion-avatar>\\n        <ion-label>\\n          <h4 *ngIf=\\\"add.type\\\">{{add.type}}</h4>\\n          <h4 *ngIf=\\\"!add.type\\\">Sin Especificar</h4>\\n          \\n          <p style=\\\"font-size: 12px;font-family: 'SF Pro Display';\\\">\\n            {{add.address | slice:0:45}} <i *ngIf=\\\"add.address.length > 45\\\">...</i>\\n          </p>\\n        </ion-label>\\n      </ion-item>\\n  \\n      <ion-item-options side=\\\"end\\\">\\n        <ion-item-option color=\\\"danger\\\" (click)=\\\"removeAddress(add.id)\\\">\\n          <ion-icon name=\\\"trash\\\"></ion-icon>\\n          Eliminar\\n        </ion-item-option>\\n      </ion-item-options>\\n    </ion-item-sliding>\\n  </ion-list>\\n  <!-- Save Address -->\\n\\n</ion-content>\\n<ion-footer>\\n  <ion-button expand=\\\"full\\\" color=\\\"primary\\\" mode=\\\"ios\\\">Guardar</ion-button>\\n</ion-footer>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SetaddressPage } from './setaddress.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SetaddressPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SetaddressPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SetaddressPageRoutingModule } from './setaddress-routing.module';\n\nimport { SetaddressPage } from './setaddress.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SetaddressPageRoutingModule\n  ],\n  declarations: [SetaddressPage]\n})\nexport class SetaddressPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FjY291bnQvYWRkcmVzcy9zZXRhZGRyZXNzL3NldGFkZHJlc3MucGFnZS5zY3NzIn0= */\"","import { Component, OnInit, NgZone } from '@angular/core';\nimport { LoadingController, NavController, ToastController, Events } from '@ionic/angular';\nimport { ServerService } from '../../../service/server.service';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { NavigationExtras } from '@angular/router';\ndeclare var google;\n\n\n@Component({\n  selector: 'app-setaddress',\n  templateUrl: './setaddress.page.html',\n  styleUrls: ['./setaddress.page.scss'],\n})\nexport class SetaddressPage implements OnInit {\n  \n  data:any;\n  admin:any;\n  searchQuery: any;\n  hasSearch:any;\n  address:any;\n  LocationNow:any;\n  MyLocation = [];\n  GoogleAutocomplete: any;\n  autocomplete: { input: string; };\n  autocompleteItems: any[];\n  lat:any;\n  lng:any;\n  constructor(\n    public server: ServerService,\n    public toastController: ToastController,\n    public geolocation: Geolocation,\n    public nativeGeocoder: NativeGeocoder,\n    public zone: NgZone,\n    public nav: NavController,\n    public loadingController: LoadingController,\n    public events: Events,\n  ) { \n    \n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter()\n  {   \n    this.admin = JSON.parse(localStorage.getItem('admin'));\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.searchQuery = null;\n    this.hasSearch   = false;\n    this.autocompleteItems = [];\n    \n    this.loadData(); \n  }\n\n  loadData()\n  {\n    this.server.getAllAdress(localStorage.getItem('user_id')).subscribe((response:any) => {\n      this.address = response.data;\n    });\n\n    // Obtenemos la ubicaciÃ³n actual\n    this.geolocation.getCurrentPosition().then((resp) => {\n      this.lat = resp.coords.latitude;\n      this.lng = resp.coords.longitude;\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n    }).catch((error) => {\n      console.log('Error al obtener la ubicaciÃ³n', error);\n    });\n  }\n\n  getAddressFromCoords(lattitude, longitude) {\n\n    this.server.GeocodeFromCoords(lattitude, longitude,this.admin.ApiKey_google).subscribe((data:any) => {\n      let formatted_address = data.results[0].formatted_address;\n      this.LocationNow = formatted_address;\n      this.MyLocation.push({\n        \"lat\"          : data.results[0].geometry.location.lat,\n        \"lng\"          : data.results[0].geometry.location.lng,\n        \"address\"      : this.LocationNow\n      });\n\n      console.log(this.MyLocation);\n    });\n   \n  }\n\n  search(ev)\n  {\n    var val = ev.target.value;\n    if(val && val.length > 0)\n    {\n      this.data      = null;\n      this.hasSearch = val;\n      if (this.autocomplete.input == '') {\n        this.autocompleteItems = [];\n        return;\n      }\n      this.GoogleAutocomplete.getPlacePredictions({ input: this.autocomplete.input },\n      (predictions, status) => {\n        this.autocompleteItems = [];\n        this.zone.run(() => {\n          predictions.forEach((prediction) => {\n            this.autocompleteItems.push(prediction);\n          });\n        });\n      });\n    }\n    else\n    {\n      this.ngOnInit();\n      this.hasSearch = false;\n    }\n  }\n  \n  clearSearch() {\n    this.searchQuery = null;\n    this.hasSearch   = false;\n    this.autocompleteItems = [];\n  }\n\n  SelectSearchResult(item)\n  {\n    var geocoder = new google.maps.Geocoder;\n    let $this = this;\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 2\n    };\n\n    geocoder.geocode({'placeId': item.place_id}, function(results, status) {\n      if (status !== 'OK') {\n        window.alert('Geocoder failed due to: ' + status);\n        return;\n      }\n      let navigationExtras: NavigationExtras = {\n        queryParams: {\n          location: JSON.stringify(results[0].geometry.location),\n          address: item.description\n        }\n      };\n  \n      $this.nav.navigateForward(['/address'], navigationExtras);\n      \n    });\n  }\n  \n  removeAddress(id) {\n    this.server.trashAddress(id).subscribe(data => {\n        if (data) {\n          this.presentToast(\"La direcciÃ³n se ha eliminado...\",'success');\n          this.ionViewWillEnter();\n        }else {\n          this.presentToast(data,'danger');\n        }\n    });\n  }\n\n  async saveAddress(item,type)\n  {\n    const loading = await this.loadingController.create({\n      message: 'Guardando DirecciÃ³n...',\n    });\n    await loading.present();\n\n    \n    // Cargamos la ciudad\n    var lat = item.lat; //localStorage.getItem(\"current_lat\") ? localStorage.getItem(\"current_lat\") : 0;\n    var lng = item.lng; //localStorage.getItem(\"current_lng\") ? localStorage.getItem(\"current_lng\") : 0;\n\n    this.server.GetNearbyCity(\"&lat=\"+lat+\"&lng=\"+lng).subscribe((response:any) => {\n      \n      if (response.data.nearby == true) {\n        if(localStorage.getItem('user_id') && localStorage.getItem('user_id') != 'null')\n        {\n            localStorage.setItem('city_id',response.data.data[0].id);\n            localStorage.setItem('city_name',response.data.data[0].name);\n\n            this.events.publish('change_city',response.data.data[0].id);\n            this.server.updateCity(\"id=\"+localStorage.getItem('user_id')+\"&city_id=\"+response.data.data[0].id).subscribe(() => {});\n        } \n        else\n        {\n          localStorage.setItem('city_id',response.data.data[0].id);\n          localStorage.setItem('city_name',response.data.data[0].name);\n          this.events.publish('change_city',response.data.data[0].id);\n        }\n        \n        if (type == 'LocationNow') {\n          var allData = {\n            address : item.address,\n            lat : this.lat,\n            lng : this.lng,\n            user_id : localStorage.getItem('user_id')\n          }  \n    \n          this.server.saveAddress(allData).subscribe((response:any) => {\n            if (response.msg == 'done') {\n              localStorage.setItem(\"address\",item.address);\n              localStorage.setItem('address_id',response.id);\n              localStorage.setItem(\"current_lat\",this.lat);\n              localStorage.setItem('current_lng',this.lng);\n            }else {\n              this.presentToast(JSON.stringify(response.data),'danger');  \n            }\n            \n            loading.dismiss();\n            this.nav.navigateForward('home');\n            this.presentToast(\"DirecciÃ³n guardada con Ã©xito.\",'success');\n            \n          });\n        }else{\n          localStorage.setItem(\"address\",item.address);\n          localStorage.setItem('address_id',item.id);\n          localStorage.setItem(\"current_lat\",item.lat);\n          localStorage.setItem('current_lng',item.lng);\n          \n          loading.dismiss();\n          this.nav.navigateForward('home');\n          this.presentToast(\"DirecciÃ³n guardada con Ã©xito.\",'success');\n        }\n\n      }else {\n        loading.dismiss();\n        this.presentToast(\"AÃºn no tenemos servicio en esta ubicaciÃ³n\",'danger');\n      }\n    });\n    \n    \n    \n  }\n\n  \n  async presentToast(txt,color) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 2000,\n      position : 'top',\n      color:color\n    });\n    toast.present();\n  }\n\n  \n\n}\n"],"sourceRoot":"webpack:///","file":"account-address-setaddress-setaddress-module-es5.js"}