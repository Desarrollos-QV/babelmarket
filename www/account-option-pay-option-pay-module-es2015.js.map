{"version":3,"sources":["./src/app/account/option-pay/option-pay.page.html","./src/app/account/option-pay/option-pay-routing.module.ts","./src/app/account/option-pay/option-pay.module.ts","./src/app/account/option-pay/option-pay.page.scss","./src/app/account/option-pay/option-pay.page.ts"],"names":[],"mappings":"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","file":"account-option-pay-option-pay-module-es2015.js","sourcesContent":["export default \"<ion-header no-border>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-card class=\\\"header\\\">\\n    <ion-card-header>\\n      <ion-card-title>\\n        Tus métodos de pago\\n      </ion-card-title>\\n    </ion-card-header>\\n  </ion-card>\\n\\n  <!-- Por Defecto -->\\n  <ion-list class=\\\"defaults_items\\\">\\n    <ion-list-header>\\n      <span>Método predeterminado</span>\\n    </ion-list-header>\\n\\n    <ion-item>\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/cash_icon.png\\\" alt=\\\"Cash\\\">\\n      </ion-thumbnail>\\n\\n      <ion-label>\\n        <h3>Pago en efectivo</h3>\\n      </ion-label>\\n\\n      <ion-radio slot=\\\"end\\\" value=\\\"1\\\" (ionSelect)=\\\"setType(1)\\\" [checked]=\\\"otype == 1\\\"></ion-radio>\\n    </ion-item>\\n    \\n    <ion-item *ngIf=\\\"paypal_id\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/paypal_icon.png\\\" alt=\\\"Paypal\\\">\\n      </ion-thumbnail>\\n\\n      <ion-label>\\n        <h3>PayPal</h3>\\n      </ion-label>\\n\\n      <ion-radio slot=\\\"end\\\" value=\\\"2\\\" (ionSelect)=\\\"setType(2)\\\" [checked]=\\\"otype == 2\\\"></ion-radio>\\n    </ion-item>\\n\\n    <ion-item *ngIf=\\\"viewCardPred\\\">\\n      <ion-thumbnail slot=\\\"start\\\">\\n        <img src=\\\"assets/card_icon.png\\\" alt=\\\"Card\\\">\\n      </ion-thumbnail>\\n      <ion-label>\\n        <h3>{{cardPredClient.card_number}}</h3>\\n        <p>{{cardPredClient.brand}}</p>\\n        <p>{{cardPredClient.bank_name}}</p>\\n      </ion-label>\\n\\n      <ion-radio slot=\\\"end\\\" value=\\\"3\\\" (ionSelect)=\\\"setType(3)\\\" [checked]=\\\"otype == 3\\\"></ion-radio>\\n    </ion-item>\\n  </ion-list>\\n  <!-- Por Defecto -->\\n\\n  <!-- Tarjetas agregadas -->\\n  <ion-list>\\n    <ion-list-header>\\n      <span>Tarjetas Registradas</span>  \\n    </ion-list-header>\\n    \\n    <img src=\\\"assets/add_card.png\\\" alt=\\\"add card\\\" *ngIf=\\\"maxCards\\\" (click)='addNewCard()' style=\\\"max-width: 60%;margin-left:15px;\\\">\\n    \\n    <ion-item *ngFor=\\\"let c of cards\\\">\\n      <ion-avatar slot=\\\"start\\\">\\n        <img src=\\\"assets/card_icon.png\\\" alt=\\\"Card\\\">\\n      </ion-avatar>\\n      <ion-label>\\n        <h3>{{c.card_number}}</h3>\\n        <p>{{c.brand}}</p>\\n        <p>{{c.bank_name}}</p>\\n        <p>\\n          <ion-button (click)=\\\"markPred(c.id)\\\" color=\\\"success\\\" style=\\\"text-transform: capitalize;\\\">\\n            <ion-icon name=\\\"checkmark\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\n            Predeterminada\\n          </ion-button>\\n          <ion-button (click)=\\\"DeleteCard(c.id)\\\" color=\\\"danger\\\" style=\\\"text-transform: capitalize;\\\">\\n            <ion-icon name=\\\"trash\\\" style=\\\"font-size: 24px;\\\"></ion-icon>\\n            Eliminar\\n          </ion-button>\\n        </p>\\n      </ion-label>\\n    </ion-item>\\n  </ion-list>\\n  <!-- Tarjetas agregadas -->\\n\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { OptionPayPage } from './option-pay.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: OptionPayPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OptionPayPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { OptionPayPageRoutingModule } from './option-pay-routing.module';\n\nimport { OptionPayPage } from './option-pay.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    OptionPayPageRoutingModule\n  ],\n  declarations: [OptionPayPage]\n})\nexport class OptionPayPageModule {}\n","export default \".header {\\n  box-shadow: none;\\n  margin: 0 !important;\\n}\\n.header ion-card-header ion-card-title {\\n  max-width: 80%;\\n  font-size: 32px;\\n  font-weight: 700;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYWNjb3VudC9vcHRpb24tcGF5L0M6XFxpb25pY1xcQmFiZWxcXHVzdWFyaW9zL3NyY1xcYXBwXFxhY2NvdW50XFxvcHRpb24tcGF5XFxvcHRpb24tcGF5LnBhZ2Uuc2NzcyIsInNyYy9hcHAvYWNjb3VudC9vcHRpb24tcGF5L29wdGlvbi1wYXkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0ksZ0JBQUE7RUFDQSxvQkFBQTtBQ0RKO0FES1E7RUFDSSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FDSFoiLCJmaWxlIjoic3JjL2FwcC9hY2NvdW50L29wdGlvbi1wYXkvb3B0aW9uLXBheS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuXHJcbi5oZWFkZXIge1xyXG4gICAgYm94LXNoYWRvdzogbm9uZTtcclxuICAgIG1hcmdpbjogMCAhaW1wb3J0YW50O1xyXG5cclxuICAgIGlvbi1jYXJkLWhlYWRlciB7XHJcblxyXG4gICAgICAgIGlvbi1jYXJkLXRpdGxlIHtcclxuICAgICAgICAgICAgbWF4LXdpZHRoOiA4MCU7XHJcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMzJweDtcclxuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiLmhlYWRlciB7XG4gIGJveC1zaGFkb3c6IG5vbmU7XG4gIG1hcmdpbjogMCAhaW1wb3J0YW50O1xufVxuLmhlYWRlciBpb24tY2FyZC1oZWFkZXIgaW9uLWNhcmQtdGl0bGUge1xuICBtYXgtd2lkdGg6IDgwJTtcbiAgZm9udC1zaXplOiAzMnB4O1xuICBmb250LXdlaWdodDogNzAwO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController, LoadingController, ToastController, AlertController } from '@ionic/angular';\nimport { ServerService } from '../../service/server.service';\nimport { FormCardPage } from './form-card/form-card.page'; \n \n\n@Component({\n  selector: 'app-option-pay',\n  templateUrl: './option-pay.page.html',\n  styleUrls: ['./option-pay.page.scss'],\n})\nexport class OptionPayPage implements OnInit {\n\n  \n  otype:number = (localStorage.getItem('otype_user')) ? JSON.parse(localStorage.getItem('otype_user')) : 1;\n  admin: any;\n  paypal_id: any;\n  user:any;\n  cards = [];\n  cardPredID = (localStorage.getItem('cardPredClient')) ? localStorage.getItem('cardPredClient') : null;\n  cardPredClient: any;\n  viewCardPred: boolean = false;\n  maxCards: boolean = true;\n  constructor(\n    public server: ServerService,\n    public modalController: ModalController,\n    public loadingController: LoadingController,\n    public toastController: ToastController,\n    public alertController: AlertController\n  ) { \n    \n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter(){\n    if (!localStorage.getItem('otype_user') && localStorage.getItem('otype_user') == null) {\n      localStorage.setItem('otype_user',\"1\");\n      this.setType(1);\n    }else {\n      this.setType(localStorage.getItem('otype_user'));\n    }\n\n    this.admin = JSON.parse(localStorage.getItem('admin'));\n    if(this.admin.paypal_client_id){\n        this.paypal_id    = this.admin.paypal_client_id;\n    }\n\n    this.server.userInfo(localStorage.getItem('user_id')).subscribe((response:any) => {\n      this.user = response.data;\n      // Obtenemos las tarjetas del cliente\n      this.GetCards();\n    });\n\n    \n  }\n\n  async GetCards()\n  {\n    const loading = await this.loadingController.create({});\n    await loading.present();\n\n    let allData = {\n      'customer' : this.user.customer_id\n    }\n\n    // Limpiamos\n    this.cardPredClient = [];\n    this.cards = [];\n    this.viewCardPred = false;\n    this.maxCards = true;\n    \n    this.server.GetCards(allData).subscribe((data:any) => {\n      if (data.data.status == true) {\n        this.cards = data.data.data;\n      }else {\n        this.presentToast(data.data.data.description,'danger');\n      }\n      \n      // Obtenemos la tarjeta predeterminada\n      if (this.cards.length > 0) {\n        // Limitamos el agregado de tarjetas\n        if (this.cards.length >= 3) this.maxCards = false;\n\n        for (let c = 0; c < this.cards.length; c++) {\n          const element = this.cards[c];\n          \n          if (element.id == this.cardPredID) {\n            this.cardPredClient = element;\n            this.viewCardPred = true;\n            break;\n          }\n        }\n      }else {\n        if (this.otype == 3) this.otype = 1;\n        localStorage.setItem('otype_user',\"1\");\n      }\n\n      loading.dismiss();\n    });\n  }\n\n  async DeleteCard(cardId)\n  {\n    const alert = await this.alertController.create({\n      header: 'Advertencia!!',\n      message: \"Estas a punto de eliminar esta tarjeta ¿Deseas hacerlo?\",\n      mode:'ios',\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          cssClass: 'secondary',\n          handler: (blah) => {\n            this.presentToast(\"La tarjeta no sera eliminada.\",'success');\n          }\n        }, {\n          text: 'Aceptar',\n          handler: () => {\n            let allData = {\n              'customer' : this.user.customer_id,\n              'cardId'   : cardId\n            };\n\n            this.server.DeleteCard(allData).subscribe((data:any) => {\n              if (data.data.status == true) {\n                if(this.otype == 3) this.otype = 1;\n                localStorage.setItem('otype_user',\"1\");\n                this.presentToast(\"La tarjeta se ha eliminado.\",'success');\n              }else {\n                this.presentToast(data.data.data.description,'danger');\n              }\n\n              // Recargamos\n              this.GetCards();\n            });\n          }\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  async markPred(cardId)\n  {\n\n    this.cardPredID = cardId;\n    localStorage.setItem(\"cardPredClient\",cardId);\n    this.otype = 3;\n    localStorage.setItem('otype_user',\"3\");\n    this.GetCards();\n  }\n\n  async addNewCard()\n  {\n    const modal = await this.modalController.create({\n      component: FormCardPage\n    });\n\n    modal.onDidDismiss().then(data=>{\n      this.GetCards();\n    });\n    return await modal.present();\n  }\n\n  async setType(id)\n  {\n    const loading = await this.loadingController.create({\n      mode:'ios'\n    });\n    await loading.present();\n    this.otype = id;\n    localStorage.setItem('otype_user',id);\n    loading.dismiss();\n  }\n\n  async presentToast(txt, color) {\n    const toast = await this.toastController.create({\n      message: txt,\n      duration: 3000,\n      position : 'top',\n      mode:'ios',\n      color:color\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}